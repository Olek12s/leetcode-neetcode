class Solution {
    public:
    static int numberOfPairs(vector<vector<int>> &points) {
        sort(points.begin(), points.end(), [](const vector<int>& p, const vector<int>& q) {
            return (p[0] == q[0]) ? p[1] < q[1] : p[0] > q[0];
        });

        int n = points.size();
        int result = 0;
        for (int i = 0; i < n-1; i++) {
            int y = INT_MAX;
            for (int j = i+1; j < n; j++) {
                if (points[j][1] >= points[i][1] && y > points[j][1]) {
                    result++;
                    y = points[j][1];
                }
            }
        }
        return result;
    }
};
